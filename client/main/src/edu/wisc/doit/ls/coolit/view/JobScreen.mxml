<?xml version="1.0" encoding="utf-8"?>
<view:JobScreenView xmlns:view="edu.wisc.doit.ls.coolit.view.*" xmlns:mx="http://www.adobe.com/2006/mxml"
	xmlns:flash="flash.filters.*"
	horizontalAlign="center" verticalAlign="middle">
	
	<mx:CurrencyFormatter id="usdFormatter" precision="2" 
        currencySymbol="$" decimalSeparatorFrom="."
        decimalSeparatorTo="." useNegativeSign="true" 
        useThousandsSeparator="true" alignSymbol="left"/>
	
	<mx:NumberFormatter id="decFormatter" precision="2" 
        decimalSeparatorFrom="."
        decimalSeparatorTo="." useNegativeSign="true" 
        useThousandsSeparator="true"/>
	
	<mx:Panel id="jobPanel" title="{jobModel.selected.name}" styleName="jobPanel"
				titleStyleName="largeWhiteTitle" width="100%" height="100%">
		<mx:ApplicationControlBar width="100%" cornerRadius="0.0">
			<mx:Button id="chooseAnotherJob" label="Switch Jobs" />
			<mx:Spacer width="100%" />
			<mx:Button id="commitJob" label="Commit" />
		</mx:ApplicationControlBar>
		
		<!-- main job details here -->
		<mx:HBox width="100%" height="100%" styleName="jobBox">
			
			<!-- left stack -->
			<mx:VBox width="60%" height="100%" styleName="noPadding">
				<!-- image holder -->
				
				<mx:TabNavigator id="mainWorkArea" width="100%" height="80%" creationPolicy="all">
					<mx:Canvas width="100%" height="100%" label="Component">
						<mx:HBox x="5" y="5">
							<mx:Button id="firstImage" label="1" selected="true" 
									click="{secondImage.selected=false;firstImage.selected=true;jobImage.source=jobModel.selected.getImageAt(0)}" />
							<mx:Button id="secondImage" label="2"
									click="{secondImage.selected=true;firstImage.selected=false;jobImage.source=jobModel.selected.getImageAt(1)}"/>
						</mx:HBox>
						<mx:Image id="jobImage" source="{jobModel.selected.getImageAt(0)}" width="100%" height="100%"
							verticalAlign="middle" horizontalAlign="center" />
					</mx:Canvas>
					
					<mx:Box width="100%" height="100%" label="Sketch Pad" />
				</mx:TabNavigator>
				
				
				
				<!-- details box -->
				<mx:HBox width="100%" height="20%" horizontalAlign="left">
					<mx:Form horizontalGap="1" paddingTop="5" paddingLeft="0" paddingRight="0">
						<mx:FormItem styleName="h2" label="Cost:">
							<mx:Label id="costLabel" fontWeight="none" text="{usdFormatter.format(model.cost)}"/>
						</mx:FormItem>

						<mx:FormItem styleName="h2" label="Bank Balance:">
							<mx:Label id="balanceLabel" fontWeight="none" text="{usdFormatter.format(model.bankBalance)}"/>
						</mx:FormItem>
						
						<mx:FormItem styleName="h2" label="Incentive:">
							<mx:Label id="incentiveLabel" fontWeight="none" text="{usdFormatter.format(jobModel.selected.pay)}"/>
						</mx:FormItem>
					</mx:Form>
					
					<mx:Form horizontalGap="1" paddingTop="5" paddingLeft="0" paddingRight="0">
						<mx:FormItem styleName="h2" label="Maximum Stress (MN):">
							<mx:Label id="maxStressLabel" fontWeight="none" 
											text="{(model.stressLimit &lt; 0) ? 'unknown' : decFormatter.format(model.stressLimit)}"/>
						</mx:FormItem>

						<mx:FormItem styleName="h2" label="Input Power (watts):">
							<mx:Label id="inputPowerLabel" fontWeight="none" text="{decFormatter.format(model.inputPower)}"/>
						</mx:FormItem>
						
						<mx:FormItem styleName="h2" label="Temp (Deg K):">
							<mx:Label id="tempLabel" fontWeight="none" text="{decFormatter.format(model.temperature)}"/>
						</mx:FormItem>
					</mx:Form>
					
				</mx:HBox>
			</mx:VBox>
			
			
			
			<!-- sidebar -->
			<mx:Accordion id="pickerAccordion" width="40%" height="100%" creationPolicy="all">
				
				<mx:Box id="jobSummary" label="Summary" styleName="jobBox" width="100%" height="100%"
						icon="{setArrowIcon(pickerAccordion.selectedIndex, 0)}">
						<mx:TextArea id="jobDescription" width="100%" height="100%" 
							styleName="invisibleTextAreaBorders" editable="false" text="{jobModel.selected.description}" />
				</mx:Box>
				
				<mx:Box label="Coolers" styleName="jobBox" width="100%" height="100%"
						icon="{setArrowIcon(pickerAccordion.selectedIndex, 1)}">
						<view:CoolerPicker id="coolerPicker" width="100%" height="100%" model="{coolerModel.coolers}" 
											coolerData="{coolerModel.currentData}" modelLocator="{model}" coolerModel="{coolerModel}"
											selected="{(pickerAccordion.selectedIndex == 1) ? true : false}" />
				</mx:Box>
				
				<mx:Box label="Struts" styleName="jobBox" width="100%" height="100%"
						icon="{setArrowIcon(pickerAccordion.selectedIndex, 2)}">
						<view:StrutPicker id="strutPicker" width="100%" height="100%" model="{materialModel.materials}"
											materialData="{materialModel.currentData}" modelLocator="{model}" materialModel="{materialModel}"
											selected="{(pickerAccordion.selectedIndex == 2) ? true : false}" />
				</mx:Box>
			</mx:Accordion>
			
		</mx:HBox>
		
		
	</mx:Panel>
	
</view:JobScreenView>